<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Utility</title>
    <style>
        body { font-family: Arial, sans-serif; background: #f0f0f0; display: flex; justify-content: center; align-items: center; height: 100vh; margin: 0; }
        .container { background: white; padding: 20px; border-radius: 10px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); max-width: 600px; width: 100%; }
        .form-container { text-align: left; padding: 20px; }
        h2 { background: #333; color: white; margin: -20px -20px 20px -20px; padding: 10px; border-radius: 5px 5px 0 0; }
        form { display: flex; flex-direction: column; }
        label { margin-bottom: 5px; color: #333; font-weight: bold; margin-top: 2.5%; }
        input[type="text"], select, button { padding: 10px; border-radius: 5px; font-size: 16px; margin-bottom: 15px; width: calc(100% - 22px); }
        input[type="text"], select { border: 1px solid #ccc; background: #e0e0e0; }
        button { background: #4a7bf2; color: white; border: none; cursor: pointer; }
        button:hover { background: #3a63d0; }
        .modal { display: none; position: fixed; z-index: 1; left: 0; top: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.59); display: flex; justify-content: center; align-items: center; }
        .modal-content { background: white; padding: 40px; border-radius: 10px; box-shadow: 0 0 10px rgba(0, 0, 0, 0.2); text-align: center; animation: modalFadeIn 0.3s ease-in-out; font-size: 24px; }
        #modal-text .label { font-size: 28px; color: #333; display: block; margin-bottom: 20px; }
        #modal-text .result { font-size: 36px; color: green; font-weight: bold; }
        .close { color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer; }
        .close:hover, .close:focus { color: black; }
        @keyframes vibrate { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-2px); } 50% { transform: translateX(2px); } 75% { transform: translateX(-2px); } }
        .invalid { border-color: red; animation: vibrate 0.3s; }
        @media (max-width: 600px) { .container { width: 90%; padding: 10px; } h2, input[type="text"], select, button { font-size: 14px; } .modal-content { max-width: 300px; } }
        #modal-text .ssid { font-size: 16px; color: #666; margin-top: 20px; display: block; }
    </style>
    <script>
        function handleFormSubmit(event) {
            event.preventDefault();
            const ssid = document.getElementById('drone-ssid'), authKey = document.getElementById('auth-key'), boughtFrom = document.getElementById('bought-from');
            let isValid = true;
            [ssid, authKey, boughtFrom].forEach(el => { if (!el.value) { el.classList.add('invalid'); isValid = false; } else { el.classList.remove('invalid'); } });
            if (!isValid) return;
            let appendString = ssid.value.toLowerCase().startsWith('pluto') && !ssid.value.toLowerCase().startsWith('plutox') ? 'pluto' : ssid.value.toLowerCase().startsWith('plutox') ? 'plutox' : (showModal('SSID does not start with "Pluto" or "PlutoX".'), '');
            if (!appendString) return;
            const password = parseInt(authKey.value) % 2 === 0 ? appendString + authKey.value : authKey.value + appendString;
            showModal(password, ssid.value);
        }
        function showModal(message, ssid) { const modal = document.getElementById('myModal'); document.getElementById('modal-text').innerHTML = `<span class="label">Generated Password:</span><span class="result">${message}</span><span class="ssid">for SSID: ${ssid}</span>`; modal.style.display = 'flex'; }
        function closeModal() { document.getElementById('myModal').style.display = 'none'; }
        document.addEventListener('DOMContentLoaded', () => {
            document.getElementById('password-utility-form').addEventListener('submit', handleFormSubmit);
            document.getElementsByClassName('close')[0].addEventListener('click', closeModal);
            window.addEventListener('click', (event) => { if (event.target === document.getElementById('myModal')) closeModal(); });
            document.querySelectorAll('input, select').forEach(input => { input.addEventListener('input', () => input.classList.remove('invalid')); });
            closeModal();
        });
    </script>
</head>
<body>
    <div class="container">
        <div class="form-container">
            <h2>Get your Drone's Password</h2>
            <form id="password-utility-form">
                <label for="drone-ssid">DRONE SSID:</label>
                <input type="text" id="drone-ssid" name="drone-ssid" required>
                <label for="auth-key">AUTH KEY:</label>
                <input type="text" id="auth-key" name="auth-key" required>
                <label for="bought-from">BOUGHT FROM:</label>
                <select id="bought-from" name="bought-from" required>
                    <option value="">Select</option>
                    <option value="Amazon">Amazon</option>
                    <option value="Website">Website</option>
                    <option value="Vendor">Vendor</option>
                    <option value="Other">Other</option>
                </select>
                <button type="submit">Generate Password</button>
            </form>
        </div>
    </div>
    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <p id="modal-text"></p>
        </div>
    </div>
</body>
</html>
